{% extends 'base.html.twig' %}

{% block title %}Liste des Groupes{% endblock %}

{% block body %}
    {% include '_layout/import.html.twig' %}
    {% include '_layout/flash_messages.html.twig' %}

    <br>
    <a href="{{ path('app_create') }}" class="btn btn-primary">Cr√©er un groupe</a>

    <h1>Liste des Groupes</h1>

    <table class="table">
        <thead>
        <tr>
            <th>Actions</th>
            <th>Nom du Groupe</th>
            <th>Origine</th>
            <th>Ville</th>
            <th>Ann√©e de D√©but</th>
            <th>Ann√©e de S√©paration</th>
            <th>Fondateurs</th>
            <th>Membres</th>
            <th>Courant Musical</th>
            <th>Pr√©sentation</th>
        </tr>
        </thead>
        <tbody>
        {% for band in bands %}
            <tr>
                <td>
                    <a href="{{ path('app_edit', { 'id': band.id }) }}" class="btn btn-primary">‚úèÔ∏è Modifier</a>
                    <form action="{{ path('app_delete', {'id': band.id}) }}" method="POST"
                          onsubmit="return confirm('√ätes-vous s√ªr de supprimer ce groupe?');">
                        <input type="hidden" name="token" value="{{ csrf_token('delete-band') }}"/>
                        <button type="submit" class="btn btn-danger">üóëÔ∏è Supprimer</button>
                    </form>
                </td>
                <td>{{ band.name }}</td>
                <td>{{ band.origin }}</td>
                <td>{{ band.city }}</td>
                <td>{{ band.startYear }}</td>
                <td>
                    {% if band.separationYear is not null and band.separationYear != 0 %}
                        {{ band.separationYear }}
                    {% endif %}
                </td>
                <td>{{ band.founders }}</td>
                <td>
                    {% if band.members is not null and band.members != 0 %}
                        {{ band.members }}
                    {% endif %}
                </td>
                <td>{{ band.musicalCurrent }}</td>
                <td>{{ band.presentation }}</td>
            </tr>
        {% else %}
            <tr>
                <td>Aucun data trouv√©</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
